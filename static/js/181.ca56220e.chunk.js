"use strict";(self.webpackChunkflighttools=self.webpackChunkflighttools||[]).push([[181],{23:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(401),l=n(996),a=n(576);var s=n(228);const o=(0,r.X3)((function(e,t){let{url:n,...r}=e;const o=new s.TileLayer(n,(0,l.P)(r,t));return(0,a.Q)(o,t)}),(function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}))},36:(e,t,n)=>{n.d(t,{p:()=>o});var r=n(401),l=n(576),a=n(772),s=n(228);const o=(0,r.Nq)((function(e,t){let{position:n,...r}=e;const o=new s.Marker(n,r);return(0,l.Q)(o,(0,a.W4)(t,{overlayContainer:o}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))},181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(43),l=n(515),a=n(419),s=n(23),o=n(36),i=n(401),c=n(576),u=n(228),d=n.n(u);const m=(0,i.wk)((function(e,t){const n=new u.Tooltip(e,t.overlayContainer);return(0,c.Q)(n,t)}),(function(e,t,n,l){let{position:a}=n;(0,r.useEffect)((function(){const n=t.overlayContainer;if(null==n)return;const{instance:r}=e,s=e=>{e.tooltip===r&&(null!=a&&r.setLatLng(a),r.update(),l(!0))},o=e=>{e.tooltip===r&&l(!1)};return n.on({tooltipopen:s,tooltipclose:o}),n.bindTooltip(r),function(){n.off({tooltipopen:s,tooltipclose:o}),null!=n._map&&n.unbindTooltip()}}),[e,t,l,a])}));n(433);var g=n(809),f=n(841),h=n(579);delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:n(249),iconUrl:n(24),shadowUrl:n(71)});const x=e=>Math.round(3.28084*e),p=e=>Math.round(.539957*e),v=e=>e/.1905,b=(e,t,n)=>{var r;const l=Date.now(),a=t*((l-(null!==(r=e.timestamp)&&void 0!==r?r:l))/1e3)/3600,s=n*Math.PI/180,o=e.lat*Math.PI/180,i=e.lng*Math.PI/180,c=a/6371,u=Math.asin(Math.sin(o)*Math.cos(c)+Math.cos(o)*Math.sin(c)*Math.cos(s)),d=i+Math.atan2(Math.sin(s)*Math.sin(c)*Math.cos(o),Math.cos(c)-Math.sin(o)*Math.sin(u));return{lat:180*u/Math.PI,lng:180*d/Math.PI,timestamp:l,name:e.name}},w=(e,t,n,r)=>{const l=e*Math.PI/180,a=n*Math.PI/180,s=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(l)*Math.cos(a)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371e3*c)},y=e=>{let{center:t}=e;const n=(0,l.ko)();return(0,r.useEffect)((()=>{n.setView(t,n.getZoom())}),[t,n]),null},N=e=>{let{setBounds:t}=e;const n=(0,l.ko)();return(0,r.useEffect)((()=>{t(n.getBounds())}),[n,t]),(0,l.Po)({moveend:()=>{t(n.getBounds())},zoomend:()=>{t(n.getBounds())}}),null},j=()=>{const{isDarkMode:e}=(0,f.D)(),[t,n]=(0,r.useState)(null),[l,i]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[j,I]=(0,r.useState)([]),[S,M]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1),[E,$]=(0,r.useState)(null),[A,P]=(0,r.useState)(null),[z,L]=(0,r.useState)(""),[F,O]=(0,r.useState)((()=>localStorage.getItem("lastSearchQuery")||"")),[D,R]=(0,r.useState)(!1),[U,_]=(0,r.useState)((()=>localStorage.getItem("lastFlightNumber")||"")),[B,T]=(0,r.useState)(null),[K,Q]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),W=(0,r.useRef)(null),[G,Z]=(0,r.useState)(null),[J,V]=(0,r.useState)(null),[X,Y]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),[ne,re]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("lastLocation");if(e)try{const t=JSON.parse(e);n(t)}catch(r){console.error("Error parsing saved location:",r)}const t=localStorage.getItem("lastFlightNumber");t&&(console.log("Auto-tracking saved flight:",t),_(t),setTimeout((()=>{ie(!1)}),100))}),[]),(0,r.useEffect)((()=>{F?localStorage.setItem("lastSearchQuery",F):localStorage.removeItem("lastSearchQuery")}),[F]),(0,r.useEffect)((()=>{U?localStorage.setItem("lastFlightNumber",U):localStorage.removeItem("lastFlightNumber")}),[U]),(0,r.useEffect)((()=>{t?localStorage.setItem("lastLocation",JSON.stringify(t)):localStorage.removeItem("lastLocation")}),[t]),(0,r.useEffect)((()=>()=>{console.log("Component unmounting, clearing all intervals."),H&&clearInterval(H),W.current&&clearInterval(W.current),G&&clearInterval(G),J&&clearInterval(J),X&&clearInterval(X)}),[]),(0,r.useEffect)((()=>{if(t&&l){const e=w(t.lat,t.lng,l.lat,l.lng);$(e),P(e),J&&clearInterval(J),X&&clearInterval(X);const n=setInterval((()=>{if(t&&l){const e=w(t.lat,t.lng,l.lat,l.lng);$(e)}}),25);if(V(n),null!==B&&void 0!==B&&B.live&&K){const e=setInterval((()=>{if(B.live&&K&&!B.live.is_ground&&B.live.speed_horizontal>=50){const e=b(K,B.live.speed_horizontal,B.live.direction);i({lat:e.lat,lng:e.lng,name:`${B.airline.name} ${B.flight.number}`})}}),100);Y(e)}}else $(null),P(null),J&&(clearInterval(J),V(null)),X&&(clearInterval(X),Y(null))}),[t,l,B,K,b]),(0,r.useEffect)((()=>{if(null===E||null===A)return void P(E);const e=v(E)-v(A);if(Math.abs(e)<1)return void P(E);const t=Math.sign(e)*Math.min(Math.abs(e),Math.max(1,Math.abs(e)/5)),n=setTimeout((()=>{P((e=>null!==e?.1905*(v(e)+t):null))}),16);return()=>clearTimeout(n)}),[E,A]);const le=async()=>{if(F.trim()){R(!0),L("");try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(F)}`);if(!e.ok)throw new Error("Failed to fetch location");const t=await e.json();if(0===t.length)return L("Location not found"),void R(!1);const r={lat:parseFloat(t[0].lat),lng:parseFloat(t[0].lon),name:t[0].display_name};n(r),i(null)}catch(e){L("Error searching location: "+(e instanceof Error?e.message:"Unknown error"))}finally{R(!1)}}},ae=(0,r.useCallback)((()=>{if(null!==B&&void 0!==B&&B.live&&K){if(B.live.is_ground||B.live.speed_horizontal<50)return console.log("Not interpolating - aircraft on ground or speed too low"),void te(new Date);console.log("Calculating new position...");const e=b(K,B.live.speed_horizontal,B.live.direction);console.log(`New position: ${e.lat}, ${e.lng}`),e.name=`${B.flight.number}-${B.airline.name}`,Q(e),i({lat:e.lat,lng:e.lng,name:e.name}),te(new Date)}else console.log("Cannot interpolate - missing flight data or last position")}),[B,K,Q,i,te]),se=(0,r.useCallback)((()=>{console.log("Completely resetting all tracking state"),W.current&&(console.log("Clearing auto-refresh interval during reset"),clearInterval(W.current),W.current=null),H&&(clearInterval(H),q(null)),G&&(clearInterval(G),Z(null)),J&&(clearInterval(J),V(null)),X&&(clearInterval(X),Y(null)),i(null),u([]),C(!1),T(null),Q(null),$(null),P(null),re(null),te(null),sessionStorage.removeItem("lastApiCall")}),[H,G,J,X]),oe=(0,r.useCallback)((()=>{W.current&&(console.log("Clearing existing auto-refresh interval explicitly"),clearInterval(W.current),W.current=null)}),[]),ie=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(U.trim()){e||localStorage.setItem("lastFlightNumber",U),e?oe():se(),R(!0),e||L("");try{var t;console.log(`Fetching flight data for ${U} (Refresh: ${e})`);U.padEnd(8," ");const n=await fetch("https://opensky-network.org/api/states/all?time=0&icao24=&callback=");if(!n.ok)throw new Error(`Failed to fetch flight data (${n.status})`);const r=await n.json();if(!r.states||0===r.states.length)throw new Error("No state data received from API");const l=r.states.find((e=>e[1]&&e[1].trim().includes(U.toUpperCase())));if(!l)throw new Error("Flight not found in current tracking data");l[0];const a=null===(t=l[1])||void 0===t?void 0:t.trim(),s=(l[2],l[5]),o=l[6],c=l[7],u=l[8],d=l[9],m=l[10],g=l[11],f={flight:{number:U,iata:U},departure:{airport:"N/A",timezone:""},arrival:{airport:"N/A",timezone:""},airline:{name:a||U},live:{latitude:o,longitude:s,altitude:c||0,direction:m||0,speed_horizontal:d?3.6*d:0,speed_vertical:g||0,is_ground:Boolean(u),updated:(new Date).toISOString()}},h=Date.now();re(h),sessionStorage.setItem("lastApiCall",h.toString()),T(f);const x={lat:f.live.latitude,lng:f.live.longitude,name:`${f.airline.name} ${f.flight.number}`,timestamp:h};Q(x),i({lat:x.lat,lng:x.lng,name:x.name}),console.log("Setting up next auto-refresh for flight data"),W.current=setInterval((()=>{console.log(`Auto-refresh triggered for flight ${U} at ${(new Date).toLocaleTimeString()}`),ie(!0)}),6e4)}catch(n){console.error("Error during trackFlight:",n),L("Error tracking flight: "+(n instanceof Error?n.message:"Unknown error")),oe()}finally{R(!1)}}else e&&L("Please enter a flight number")}),[U,se,oe]),ce=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?oe():se(),R(!0),e||L("");try{console.log(`Fetching all aircraft data (Refresh: ${e})`),C(!0);const t=await fetch("https://opensky-network.org/api/states/all?time=0&callback=");if(!t.ok)throw new Error(`Failed to fetch aircraft data (${t.status})`);const r=await t.json();if(r.states&&0!==r.states.length){const t=r.states.filter((e=>e[5]&&e[6]&&!isNaN(e[5])&&!isNaN(e[6])&&!e[8])).map((e=>{var t;return{icao24:e[0],callsign:null===(t=e[1])||void 0===t?void 0:t.trim(),latitude:e[6],longitude:e[5],altitude:e[7]||0,direction:e[10]||0,speed:e[9]?3.6*e[9]:0,isOnGround:Boolean(e[8])}}));if(u(t),!e&&t.length>0){const e=t[Math.floor(t.length/2)];n({lat:e.latitude,lng:e.longitude,name:"Map Center"})}}else console.log("No aircraft state data received from API."),u([]);const l=Date.now();re(l),sessionStorage.setItem("lastApiCall",l.toString()),L(""),console.log("Setting up next auto-refresh for all aircraft data"),W.current=setInterval((()=>{console.log(`Auto-refresh triggered for all aircraft at ${(new Date).toLocaleTimeString()}`),ce(!0)}),6e4)}catch(t){console.error("Error during getAllAircraft:",t),L("Error fetching aircraft: "+(t instanceof Error?t.message:"Unknown error")),C(!1),oe()}finally{R(!1)}}),[se,oe]);return(0,r.useEffect)((()=>{if(G&&(console.log("Clearing existing interpolation interval"),clearInterval(G),Z(null)),B&&K&&!k){console.log("Initializing interpolation from fresh data"),ae();const e=setInterval((()=>{console.log("Interpolation interval triggered"),ae()}),5e3);Z(e)}return()=>{G&&clearInterval(G)}}),[B,K,k,ae]),(0,r.useEffect)((()=>{if(k&&S&&c.length>0){const e=c.filter((e=>S.contains(d().latLng(e.latitude,e.longitude))));I(e),console.log(`Filtered aircraft from ${c.length} to ${e.length} visible`)}else I(c)}),[c,S,k]),(0,h.jsxs)("div",{className:(e?"bg-gray-800":"bg-white")+" rounded-lg shadow p-3 sm:p-6 max-w-7xl mx-auto",children:[(0,h.jsxs)("div",{className:"mb-2 sm:mb-4 space-y-2 sm:space-y-4",children:[(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-4",children:[(0,h.jsxs)("div",{className:"w-full sm:flex-1 sm:min-w-[200px] flex gap-2",children:[(0,h.jsx)("input",{type:"text",value:F,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&le(),hidden:null!==t,placeholder:"Enter location (e.g., London, UK)",className:"flex-1 p-2 text-sm sm:text-base border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(e?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900")}),(0,h.jsx)("button",{onClick:le,disabled:D||!F.trim(),hidden:null!==t,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300 whitespace-nowrap",children:"Search"}),(0,h.jsx)("button",{onClick:()=>{if(R(!0),L(""),!navigator.geolocation)return L("Geolocation is not supported by your browser"),void R(!1);navigator.geolocation.getCurrentPosition((e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude,name:"Current Location"};n(t),i(null),R(!1)}),(e=>{L("Error getting location: "+e.message),R(!1)}))},disabled:D,hidden:null!==t,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300 whitespace-nowrap",children:(0,h.jsx)("span",{role:"img","aria-label":"GPS",className:"text-lg",children:"\ud83d\udccd"})})]}),(0,h.jsxs)("div",{className:"w-full sm:flex-1 sm:min-w-[200px] flex gap-2",children:[(0,h.jsx)("input",{type:"text",value:U,onChange:e=>_(e.target.value.toUpperCase()),onKeyPress:e=>"Enter"===e.key&&ie(),placeholder:"Enter flight number (e.g., BA123)",disabled:k,className:`flex-1 p-2 text-sm sm:text-base border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900"} ${k?"opacity-50":""}`}),(0,h.jsx)("button",{onClick:e=>ie(),disabled:D||!U.trim()||k,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-purple-600 text-white rounded hover:bg-purple-700 disabled:bg-purple-300 whitespace-nowrap "+(k?"opacity-50":""),children:"Track"}),(0,h.jsx)("button",{onClick:e=>ce(!1),disabled:D||k,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-green-300 whitespace-nowrap",children:"All Aircraft"})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(t||k)&&(0,h.jsx)("button",{onClick:()=>{n(null),O(""),L(""),_(""),se(),localStorage.removeItem("lastLocation"),localStorage.removeItem("lastSearchQuery"),localStorage.removeItem("lastFlightNumber")},disabled:D,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-red-300 whitespace-nowrap",children:"Clear"}),(B||k)&&(0,h.jsx)("button",{onClick:e=>{e.preventDefault(),k?ce(!1):ie(!0)},className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded hover:bg-blue-700 whitespace-nowrap",children:"Refresh"})]})]}),z&&(0,h.jsx)("div",{className:"p-2 sm:p-3 rounded text-xs sm:text-sm "+(e?"bg-red-900 text-red-100":"bg-red-100 text-red-700"),children:z}),B&&(0,h.jsxs)("div",{className:"p-2 sm:p-4 rounded "+(e?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-700"),children:[(0,h.jsx)("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:(0,h.jsx)("div",{className:"font-medium text-base sm:text-lg",children:B.flight.number})}),null!==A&&(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-1 "+(e?"text-blue-200":"text-blue-800"),children:"Distance to Aircraft"}),(0,h.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 items-center gap-1 sm:gap-2 px-4 sm:px-0",children:[(0,h.jsxs)("div",{className:"font-mono text-lg sm:text-2xl font-bold order-2 sm:order-none sm:text-right",children:[(ue=v(A),.1905*ue/1852).toFixed(2),"nm"]}),(0,h.jsxs)("div",{className:"font-mono text-lg sm:text-2xl font-bold order-1 sm:order-none text-center",children:[Math.round(A).toLocaleString(),"m"]}),(0,h.jsxs)("div",{className:"font-mono text-lg sm:text-2xl font-bold order-3 sm:order-none sm:text-left whitespace-nowrap",children:[Math.round(v(A)).toLocaleString(),"\ud83c\udf4c"]})]})]}),(0,h.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[B.live&&(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 mt-1 sm:mt-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Altitude"}),(0,h.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[x(B.live.altitude),"ft"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Speed"}),(0,h.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[p(B.live.speed_horizontal),"kts"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Direction"}),(0,h.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[B.live.direction,"\xb0"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Status"}),(0,h.jsx)("div",{className:"text-sm sm:text-base text-center",children:B.live.is_ground?"On Ground":"In Air"})]})]}),ne&&(0,h.jsxs)("div",{className:"text-[10px] sm:text-xs mt-1 sm:mt-2 text-center "+(e?"text-blue-300":"text-blue-600"),children:["Using API data from ",new Date(ne).toLocaleString(),(0,h.jsx)("br",{}),(0,h.jsx)("span",{className:"italic",children:"Auto-refreshes every minute, this use a lot of data so recommend using this feature with wifi only"})]})]})]}),k&&(0,h.jsxs)("div",{className:"p-2 sm:p-4 rounded "+(e?"bg-green-900 text-green-100":"bg-green-100 text-green-700"),children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-1 sm:mb-3",children:[(0,h.jsx)("div",{className:"font-medium text-base sm:text-lg",children:"All Aircraft"}),(0,h.jsxs)("div",{className:"text-xs sm:text-sm font-mono",children:[j.length," visible / ",c.length," total"]})]}),(0,h.jsxs)("div",{className:"text-[10px] sm:text-xs mt-1 sm:mt-2 text-center "+(e?"text-green-300":"text-green-600"),children:["Using API data from ",ne?new Date(ne).toLocaleString():"N/A",(0,h.jsx)("br",{}),(0,h.jsx)("span",{className:"italic",children:"Auto-refreshes every minute, this use a lot of data so recommend using this feature with wifi only"})]})]})]}),(0,h.jsx)("div",{className:"h-[50vh] sm:h-[60vh] md:h-[600px] rounded border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:(0,h.jsxs)(a.W,{style:{height:"100%",width:"100%"},center:t?[t.lat,t.lng]:l?[l.lat,l.lng]:[51.505,-.09],zoom:t&&!k?13:l?10:6,scrollWheelZoom:!0,children:[(0,h.jsx)(s.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:e?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,h.jsx)(N,{setBounds:M}),t&&(0,h.jsx)(o.p,{position:[t.lat,t.lng]}),l&&B&&!k&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.p,{position:[l.lat,l.lng],icon:d().divIcon({html:`<div style="transform: rotate(${B.live.direction||0}deg)">\n                      <img src="${g.A}" alt="plane" style="width: 24px; height: 24px;" />\n                    </div>`,className:"",iconSize:[24,24],iconAnchor:[12,12]})},`${B.flight.number}-${l.lat.toFixed(6)}-${l.lng.toFixed(6)}-${B.live.direction||0}-${Date.now()}`),(0,h.jsx)(y,{center:[l.lat,l.lng]})]}),k&&j.length>0&&j.map((t=>(0,h.jsx)(o.p,{position:[t.latitude,t.longitude],icon:d().divIcon({html:`<div style="transform: rotate(${t.direction}deg)">\n                    <img src="${g.A}" alt="plane" style="width: 16px; height: 16px;" />\n                  </div>`,className:"",iconSize:[16,16],iconAnchor:[8,8]}),children:(0,h.jsxs)(m,{direction:"top",offset:[0,-5],opacity:.9,className:""+(e?"bg-gray-800 text-white":"bg-white text-gray-900"),children:[(0,h.jsx)("div",{className:"text-xs font-medium min-w-[150px] text-center mb-1",children:t.callsign||"N/A"}),(0,h.jsxs)("div",{className:"text-[10px] grid grid-cols-2 gap-x-3 gap-y-1 min-w-[150px]",children:[(0,h.jsx)("span",{children:"Altitude:"}),(0,h.jsxs)("span",{className:"font-mono text-right",children:[x(t.altitude),"ft"]}),(0,h.jsx)("span",{children:"Speed:"}),(0,h.jsxs)("span",{className:"font-mono text-right",children:[p(t.speed),"kts"]}),(0,h.jsx)("span",{children:"Direction:"}),(0,h.jsxs)("span",{className:"font-mono text-right",children:[Math.round(t.direction),"\xb0"]})]})]})},`${t.icao24}-${t.latitude.toFixed(6)}-${t.longitude.toFixed(6)}`)))]})})]});var ue}},401:(e,t,n)=>{n.d(t,{Nq:()=>f,wk:()=>h,Lt:()=>x,X3:()=>p});var r=n(43),l=n(950),a=n(772);function s(e){function t(t,n){const{instance:l,context:s}=e(t).current;(0,r.useImperativeHandle)(n,(()=>l));const{children:o}=t;return null==o?null:r.createElement(a.dk,{value:s},o)}return(0,r.forwardRef)(t)}function o(e,t){const n=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function i(e,t){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}var c=n(996);var u=n(576);function d(e,t){(0,r.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function m(e){return function(t){const n=(0,a.U$)(),r=e((0,c.P)(t,n),n);return o(n.map,t.attribution),i(r.current,t.eventHandlers),d(r.current,n),r}}function g(e){return function(t){const n=(0,a.U$)(),l=e((0,c.P)(t,n),n);return i(l.current,t.eventHandlers),d(l.current,n),function(e,t){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}}),[e,t])}(l.current,t),l}}function f(e,t){return s(m((0,u.K)(e,t)))}function h(e,t){const n=function(e,t){return function(n,r){const l=(0,a.U$)(),s=e((0,c.P)(n,l),l);return o(l.map,n.attribution),i(s.current,n.eventHandlers),t(s.current,l,n,r),s}}((0,u.K)(e),t);return function(e){function t(t,n){const[a,s]=(0,r.useState)(!1),{instance:o}=e(t,s).current;(0,r.useImperativeHandle)(n,(()=>o)),(0,r.useEffect)((function(){a&&o.update()}),[o,a,t.children]);const i=o._contentNode;return i?(0,l.createPortal)(t.children,i):null}return(0,r.forwardRef)(t)}(n)}function x(e,t){return s(g((0,u.K)(e,t)))}function p(e,t){return function(e){function t(t,n){const{instance:l}=e(t).current;return(0,r.useImperativeHandle)(n,(()=>l)),null}return(0,r.forwardRef)(t)}(m((0,u.K)(e,t)))}},419:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(772),l=n(228),a=n(43);function s(e,t){let{bounds:n,boundsOptions:s,center:o,children:i,className:c,id:u,placeholder:d,style:m,whenReady:g,zoom:f,...h}=e;const[x]=(0,a.useState)({className:c,id:u,style:m}),[p,v]=(0,a.useState)(null),b=(0,a.useRef)(void 0);(0,a.useImperativeHandle)(t,(()=>p?.map??null),[p]);const w=(0,a.useCallback)((e=>{if(null!==e&&!b.current){const t=new l.Map(e,h);b.current=t,null!=o&&null!=f?t.setView(o,f):null!=n&&t.fitBounds(n,s),null!=g&&t.whenReady(g),v((0,r.fB)(t))}}),[]);(0,a.useEffect)((()=>()=>{p?.map.remove()}),[p]);const y=p?a.createElement(r.dk,{value:p},i):d??null;return a.createElement("div",{...x,ref:w},y)}const o=(0,a.forwardRef)(s)},515:(e,t,n)=>{n.d(t,{Po:()=>s,ko:()=>a});var r=n(772),l=n(43);function a(){return(0,r.U$)().map}function s(e){const t=a();return(0,l.useEffect)((function(){return t.on(e),function(){t.off(e)}}),[t,e]),t}},576:(e,t,n)=>{n.d(t,{K:()=>a,Q:()=>l});var r=n(43);function l(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function a(e,t){return null==t?function(t,n){const l=(0,r.useRef)(void 0);return l.current||(l.current=e(t,n)),l}:function(n,l){const a=(0,r.useRef)(void 0);a.current||(a.current=e(n,l));const s=(0,r.useRef)(n),{instance:o}=a.current;return(0,r.useEffect)((function(){s.current!==n&&(t(o,n,s.current),s.current=n)}),[o,n,t]),a}}},772:(e,t,n)=>{n.d(t,{U$:()=>i,W4:()=>s,dk:()=>o,fB:()=>a});var r=n(43);const l=1;function a(e){return Object.freeze({__version:l,map:e})}function s(e,t){return Object.freeze({...e,...t})}const o=(0,r.createContext)(null);function i(){const e=(0,r.use)(o);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},996:(e,t,n)=>{function r(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}n.d(t,{P:()=>r})}}]);
//# sourceMappingURL=181.ca56220e.chunk.js.map