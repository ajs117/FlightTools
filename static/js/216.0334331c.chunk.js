"use strict";(self.webpackChunkflighttools=self.webpackChunkflighttools||[]).push([[216],{23:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(215),a=n(996),l=n(576);var s=n(228);const o=(0,r.X3)((function(e,t){let{url:n,...r}=e;const o=new s.TileLayer(n,(0,a.P)(r,t));return(0,l.Q)(o,t)}),(function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:a}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=a&&a!==n.zIndex&&e.setZIndex(a)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}))},36:(e,t,n)=>{n.d(t,{p:()=>o});var r=n(215),a=n(576),l=n(772),s=n(228);const o=(0,r.Nq)((function(e,t){let{position:n,...r}=e;const o=new s.Marker(n,r);return(0,a.Q)(o,(0,l.W4)(t,{overlayContainer:o}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))},167:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(43),a=n(515),l=n(419),s=n(23),o=n(36),i=(n(433),n(228)),c=n.n(i),u=n(809),d=n(368),m=n(579);delete c().Icon.Default.prototype._getIconUrl,c().Icon.Default.mergeOptions({iconRetinaUrl:n(249),iconUrl:n(24),shadowUrl:n(71)});const g=(e,t,n)=>{var r;const a=Date.now(),l=t*((a-(null!==(r=e.timestamp)&&void 0!==r?r:a))/1e3)/3600,s=n*Math.PI/180,o=e.lat*Math.PI/180,i=e.lng*Math.PI/180,c=l/6371,u=Math.asin(Math.sin(o)*Math.cos(c)+Math.cos(o)*Math.sin(c)*Math.cos(s)),d=i+Math.atan2(Math.sin(s)*Math.sin(c)*Math.cos(o),Math.cos(c)-Math.sin(o)*Math.sin(u));return{lat:180*u/Math.PI,lng:180*d/Math.PI,timestamp:a,name:e.name}},f=(e,t,n,r)=>{const a=e*Math.PI/180,l=n*Math.PI/180,s=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a)*Math.cos(l)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371e3*c)},h=e=>{let{center:t}=e;const n=(0,a.ko)();return(0,r.useEffect)((()=>{n.setView(t,n.getZoom())}),[t,n]),null},x=()=>{const{isDarkMode:e}=(0,d.D)(),[t,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(null),[x,p]=(0,r.useState)([]),[v,b]=(0,r.useState)(!1),[y,w]=(0,r.useState)(null),[I,N]=(0,r.useState)(null),[j,S]=(0,r.useState)(""),[M,k]=(0,r.useState)((()=>localStorage.getItem("lastSearchQuery")||"")),[C,E]=(0,r.useState)(!1),[$,A]=(0,r.useState)((()=>localStorage.getItem("lastFlightNumber")||"")),[z,P]=(0,r.useState)(null),[F,O]=(0,r.useState)(null),[L,D]=(0,r.useState)(null),R=(0,r.useRef)(null),[U,_]=(0,r.useState)(null),[K,Q]=(0,r.useState)(null),[T,B]=(0,r.useState)(null),[q,H]=(0,r.useState)(null),[W,Z]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=localStorage.getItem("lastLocation");if(e)try{const t=JSON.parse(e);n(t)}catch(r){console.error("Error parsing saved location:",r)}const t=localStorage.getItem("lastFlightNumber");t&&(console.log("Auto-tracking saved flight:",t),A(t),setTimeout((()=>{Y(!1)}),100))}),[]),(0,r.useEffect)((()=>{M?localStorage.setItem("lastSearchQuery",M):localStorage.removeItem("lastSearchQuery")}),[M]),(0,r.useEffect)((()=>{$?localStorage.setItem("lastFlightNumber",$):localStorage.removeItem("lastFlightNumber")}),[$]),(0,r.useEffect)((()=>{t?localStorage.setItem("lastLocation",JSON.stringify(t)):localStorage.removeItem("lastLocation")}),[t]),(0,r.useEffect)((()=>()=>{console.log("Component unmounting, clearing all intervals."),L&&clearInterval(L),R.current&&clearInterval(R.current),U&&clearInterval(U),K&&clearInterval(K),T&&clearInterval(T)}),[]),(0,r.useEffect)((()=>{if(t&&a){const e=f(t.lat,t.lng,a.lat,a.lng);w(e),N(e),K&&clearInterval(K),T&&clearInterval(T);const n=setInterval((()=>{if(t&&a){const e=f(t.lat,t.lng,a.lat,a.lng);w(e)}}),25);if(Q(n),null!==z&&void 0!==z&&z.live&&F){const e=setInterval((()=>{if(z.live&&F&&!z.live.is_ground&&z.live.speed_horizontal>=50){const e=g(F,z.live.speed_horizontal,z.live.direction);i({lat:e.lat,lng:e.lng,name:`${z.airline.name} ${z.flight.number}`})}}),100);B(e)}}else w(null),N(null),K&&(clearInterval(K),Q(null)),T&&(clearInterval(T),B(null))}),[t,a,z,F,g]),(0,r.useEffect)((()=>{if(null===y||null===I)return void N(y);const e=y-I;if(Math.abs(e)<1)return void N(y);const t=Math.sign(e)*Math.min(Math.abs(e),Math.max(1,Math.abs(e)/5)),n=setTimeout((()=>{N((e=>null!==e?e+t:null))}),16);return()=>clearTimeout(n)}),[y,I]);const G=async()=>{if(M.trim()){E(!0),S("");try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(M)}`);if(!e.ok)throw new Error("Failed to fetch location");const t=await e.json();if(0===t.length)return S("Location not found"),void E(!1);const r={lat:parseFloat(t[0].lat),lng:parseFloat(t[0].lon),name:t[0].display_name};n(r),i(null)}catch(e){S("Error searching location: "+(e instanceof Error?e.message:"Unknown error"))}finally{E(!1)}}},J=(0,r.useCallback)((()=>{if(null!==z&&void 0!==z&&z.live&&F){if(z.live.is_ground||z.live.speed_horizontal<50)return console.log("Not interpolating - aircraft on ground or speed too low"),void H(new Date);console.log("Calculating new position...");const e=g(F,z.live.speed_horizontal,z.live.direction);console.log(`New position: ${e.lat}, ${e.lng}`),e.name=`${z.flight.number}-${z.airline.name}`,O(e),i({lat:e.lat,lng:e.lng,name:e.name}),H(new Date)}else console.log("Cannot interpolate - missing flight data or last position")}),[z,F,O,i,H]),V=(0,r.useCallback)((()=>{console.log("Completely resetting all tracking state"),R.current&&(console.log("Clearing auto-refresh interval during reset"),clearInterval(R.current),R.current=null),L&&(clearInterval(L),D(null)),U&&(clearInterval(U),_(null)),K&&(clearInterval(K),Q(null)),T&&(clearInterval(T),B(null)),i(null),p([]),b(!1),P(null),O(null),w(null),N(null),Z(null),H(null),sessionStorage.removeItem("lastApiCall")}),[L,U,K,T]),X=(0,r.useCallback)((()=>{R.current&&(console.log("Clearing existing auto-refresh interval explicitly"),clearInterval(R.current),R.current=null)}),[]),Y=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($.trim()){e||localStorage.setItem("lastFlightNumber",$),e?X():V(),E(!0),e||S("");try{var t;console.log(`Fetching flight data for ${$} (Refresh: ${e})`);$.padEnd(8," ");const n=await fetch("https://opensky-network.org/api/states/all?time=0&icao24=&callback=");if(!n.ok)throw new Error(`Failed to fetch flight data (${n.status})`);const r=await n.json();if(!r.states||0===r.states.length)throw new Error("No state data received from API");const a=r.states.find((e=>e[1]&&e[1].trim().includes($.toUpperCase())));if(!a)throw new Error("Flight not found in current tracking data");a[0];const l=null===(t=a[1])||void 0===t?void 0:t.trim(),s=(a[2],a[5]),o=a[6],c=a[7],u=a[8],d=a[9],m=a[10],g=a[11],f={flight:{number:$,iata:$},departure:{airport:"N/A",timezone:""},arrival:{airport:"N/A",timezone:""},airline:{name:l||$},live:{latitude:o,longitude:s,altitude:c||0,direction:m||0,speed_horizontal:d?3.6*d:0,speed_vertical:g||0,is_ground:Boolean(u),updated:(new Date).toISOString()}},h=Date.now();Z(h),sessionStorage.setItem("lastApiCall",h.toString()),P(f);const x={lat:f.live.latitude,lng:f.live.longitude,name:`${f.airline.name} ${f.flight.number}`,timestamp:h};O(x),i({lat:x.lat,lng:x.lng,name:x.name}),console.log("Setting up next auto-refresh for flight data"),R.current=setInterval((()=>{console.log(`Auto-refresh triggered for flight ${$} at ${(new Date).toLocaleTimeString()}`),Y(!0)}),6e4)}catch(n){console.error("Error during trackFlight:",n),S("Error tracking flight: "+(n instanceof Error?n.message:"Unknown error")),X()}finally{E(!1)}}else e&&S("Please enter a flight number")}),[$,V,X]),ee=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?X():V(),E(!0),e||S("");try{console.log(`Fetching all aircraft data (Refresh: ${e})`),b(!0);const t=await fetch("https://opensky-network.org/api/states/all?time=0&callback=");if(!t.ok)throw new Error(`Failed to fetch aircraft data (${t.status})`);const r=await t.json();if(r.states&&0!==r.states.length){const t=r.states.filter((e=>e[5]&&e[6]&&!isNaN(e[5])&&!isNaN(e[6])&&!e[8])).map((e=>{var t;return{icao24:e[0],callsign:null===(t=e[1])||void 0===t?void 0:t.trim(),latitude:e[6],longitude:e[5],altitude:e[7]||0,direction:e[10]||0,speed:e[9]?3.6*e[9]:0,isOnGround:Boolean(e[8])}}));if(p(t),!e&&t.length>0){const e=t[Math.floor(t.length/2)];n({lat:e.latitude,lng:e.longitude,name:"Map Center"})}}else console.log("No aircraft state data received from API."),p([]);const a=Date.now();Z(a),sessionStorage.setItem("lastApiCall",a.toString()),S(""),console.log("Setting up next auto-refresh for all aircraft data"),R.current=setInterval((()=>{console.log(`Auto-refresh triggered for all aircraft at ${(new Date).toLocaleTimeString()}`),ee(!0)}),6e4)}catch(t){console.error("Error during getAllAircraft:",t),S("Error fetching aircraft: "+(t instanceof Error?t.message:"Unknown error")),b(!1),X()}finally{E(!1)}}),[V,X]);return(0,r.useEffect)((()=>{if(U&&(console.log("Clearing existing interpolation interval"),clearInterval(U),_(null)),z&&F&&!v){console.log("Initializing interpolation from fresh data"),J();const e=setInterval((()=>{console.log("Interpolation interval triggered"),J()}),5e3);_(e)}return()=>{U&&clearInterval(U)}}),[z,F,v,J]),(0,m.jsx)("div",{className:(e?"bg-gray-900":"bg-gray-100")+" p-2 sm:p-4",children:(0,m.jsxs)("div",{className:(e?"bg-gray-800":"bg-white")+" rounded-lg shadow p-3 sm:p-6 max-w-7xl mx-auto",children:[(0,m.jsxs)("div",{className:"mb-2 sm:mb-4 space-y-2 sm:space-y-4",children:[(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-4",children:[(0,m.jsxs)("div",{className:"w-full sm:flex-1 sm:min-w-[200px] flex gap-2",children:[(0,m.jsx)("input",{type:"text",value:M,onChange:e=>k(e.target.value),onKeyPress:e=>"Enter"===e.key&&G(),hidden:null!==t,placeholder:"Enter location (e.g., London, UK)",className:"flex-1 p-2 text-sm sm:text-base border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(e?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900")}),(0,m.jsx)("button",{onClick:G,disabled:C||!M.trim(),hidden:null!==t,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300 whitespace-nowrap",children:"Search"})]}),(0,m.jsxs)("div",{className:"w-full sm:flex-1 sm:min-w-[200px] flex gap-2",children:[(0,m.jsx)("input",{type:"text",value:$,onChange:e=>A(e.target.value.toUpperCase()),onKeyPress:e=>"Enter"===e.key&&Y(),placeholder:"Enter flight number (e.g., BA123)",disabled:v,className:`flex-1 p-2 text-sm sm:text-base border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900"} ${v?"opacity-50":""}`}),(0,m.jsx)("button",{onClick:e=>Y(),disabled:C||!$.trim()||v,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-purple-600 text-white rounded hover:bg-purple-700 disabled:bg-purple-300 whitespace-nowrap "+(v?"opacity-50":""),children:"Track"}),(0,m.jsx)("button",{onClick:e=>ee(!1),disabled:C||v,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-green-300 whitespace-nowrap",children:"All Aircraft"})]}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(t||v)&&(0,m.jsx)("button",{onClick:()=>{n(null),k(""),S(""),A(""),V(),localStorage.removeItem("lastLocation"),localStorage.removeItem("lastSearchQuery"),localStorage.removeItem("lastFlightNumber")},disabled:C,className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-red-300 whitespace-nowrap",children:"Clear"}),(z||v)&&(0,m.jsx)("button",{onClick:e=>{e.preventDefault(),v?ee(!1):Y(!0)},className:"px-2 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm bg-blue-600 text-white rounded hover:bg-blue-700 whitespace-nowrap",children:"Refresh"})]})]}),j&&(0,m.jsx)("div",{className:"p-2 sm:p-3 rounded text-xs sm:text-sm "+(e?"bg-red-900 text-red-100":"bg-red-100 text-red-700"),children:j}),z&&(0,m.jsxs)("div",{className:"p-2 sm:p-4 rounded "+(e?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-700"),children:[(0,m.jsx)("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:(0,m.jsx)("div",{className:"font-medium text-base sm:text-lg",children:z.flight.number})}),null!==I&&(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-1 "+(e?"text-blue-200":"text-blue-800"),children:"Distance to Aircraft"}),(0,m.jsxs)("div",{className:"font-mono text-lg sm:text-2xl font-bold",children:[Math.round(I).toLocaleString(),"m"]})]}),(0,m.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[z.live&&(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 mt-1 sm:mt-2",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Altitude"}),(0,m.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[(ne=z.live.altitude,Math.round(3.28084*ne)),"ft"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Speed"}),(0,m.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[(te=z.live.speed_horizontal,Math.round(.539957*te)),"kts"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Direction"}),(0,m.jsxs)("div",{className:"text-sm sm:text-base text-center",children:[z.live.direction,"\xb0"]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-xs sm:text-sm font-medium text-center "+(e?"text-blue-200":"text-blue-800"),children:"Status"}),(0,m.jsx)("div",{className:"text-sm sm:text-base text-center",children:z.live.is_ground?"On Ground":"In Air"})]})]}),W&&(0,m.jsxs)("div",{className:"text-[10px] sm:text-xs mt-1 sm:mt-2 text-center "+(e?"text-blue-300":"text-blue-600"),children:["Using API data from ",new Date(W).toLocaleString(),(0,m.jsx)("br",{}),(0,m.jsx)("span",{className:"italic",children:"Auto-refreshes every minute, this use a lot of data so recommend using this feature with wifi only"})]})]})]}),v&&(0,m.jsxs)("div",{className:"p-2 sm:p-4 rounded "+(e?"bg-green-900 text-green-100":"bg-green-100 text-green-700"),children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-1 sm:mb-3",children:[(0,m.jsx)("div",{className:"font-medium text-base sm:text-lg",children:"All Aircraft"}),(0,m.jsxs)("div",{className:"text-xs sm:text-sm font-mono",children:[x.length," aircraft"]})]}),(0,m.jsxs)("div",{className:"text-[10px] sm:text-xs mt-1 sm:mt-2 text-center "+(e?"text-green-300":"text-green-600"),children:["Using API data from ",W?new Date(W).toLocaleString():"N/A",(0,m.jsx)("br",{}),(0,m.jsx)("span",{className:"italic",children:"Auto-refreshes every minute, this use a lot of data so recommend using this feature with wifi only"})]})]})]}),(0,m.jsx)("div",{className:"h-[50vh] sm:h-[60vh] md:h-[600px] rounded border "+(e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:(0,m.jsxs)(l.W,{style:{height:"100%",width:"100%"},center:t?[t.lat,t.lng]:a?[a.lat,a.lng]:[51.505,-.09],zoom:t&&!v?13:a?10:6,scrollWheelZoom:!0,children:[(0,m.jsx)(s.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:e?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&(0,m.jsx)(o.p,{position:[t.lat,t.lng]}),a&&z&&!v&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.p,{position:[a.lat,a.lng],icon:c().divIcon({html:`<div style="transform: rotate(${z.live.direction||0}deg)">\n                      <img src="${u.A}" alt="plane" style="width: 24px; height: 24px;" />\n                    </div>`,className:"",iconSize:[24,24],iconAnchor:[12,12]})},`${z.flight.number}-${a.lat.toFixed(6)}-${a.lng.toFixed(6)}-${z.live.direction||0}-${Date.now()}`),(0,m.jsx)(h,{center:[a.lat,a.lng]})]}),v&&x.length>0&&x.map((e=>(0,m.jsx)(o.p,{position:[e.latitude,e.longitude],icon:c().divIcon({html:`<div style="transform: rotate(${e.direction}deg)">\n                    <img src="${u.A}" alt="plane" style="width: 16px; height: 16px;" />\n                  </div>`,className:"",iconSize:[16,16],iconAnchor:[8,8]})},`${e.icao24}-${e.latitude.toFixed(6)}-${e.longitude.toFixed(6)}`)))]})})]})});var te,ne}},215:(e,t,n)=>{n.d(t,{Nq:()=>m,Lt:()=>g,X3:()=>f});var r=n(43),a=(n(950),n(772));function l(e){function t(t,n){const{instance:l,context:s}=e(t).current;(0,r.useImperativeHandle)(n,(()=>l));const{children:o}=t;return null==o?null:r.createElement(a.dk,{value:s},o)}return(0,r.forwardRef)(t)}var s=n(576);function o(e,t){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}var i=n(996);function c(e,t){(0,r.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function u(e){return function(t){const n=(0,a.U$)(),l=e((0,i.P)(t,n),n);return function(e,t){const n=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}(n.map,t.attribution),o(l.current,t.eventHandlers),c(l.current,n),l}}function d(e){return function(t){const n=(0,a.U$)(),l=e((0,i.P)(t,n),n);return o(l.current,t.eventHandlers),c(l.current,n),function(e,t){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}}),[e,t])}(l.current,t),l}}function m(e,t){return l(u((0,s.K)(e,t)))}function g(e,t){return l(d((0,s.K)(e,t)))}function f(e,t){return function(e){function t(t,n){const{instance:a}=e(t).current;return(0,r.useImperativeHandle)(n,(()=>a)),null}return(0,r.forwardRef)(t)}(u((0,s.K)(e,t)))}},419:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(772),a=n(228),l=n(43);function s(e,t){let{bounds:n,boundsOptions:s,center:o,children:i,className:c,id:u,placeholder:d,style:m,whenReady:g,zoom:f,...h}=e;const[x]=(0,l.useState)({className:c,id:u,style:m}),[p,v]=(0,l.useState)(null),b=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(t,(()=>p?.map??null),[p]);const y=(0,l.useCallback)((e=>{if(null!==e&&!b.current){const t=new a.Map(e,h);b.current=t,null!=o&&null!=f?t.setView(o,f):null!=n&&t.fitBounds(n,s),null!=g&&t.whenReady(g),v((0,r.fB)(t))}}),[]);(0,l.useEffect)((()=>()=>{p?.map.remove()}),[p]);const w=p?l.createElement(r.dk,{value:p},i):d??null;return l.createElement("div",{...x,ref:y},w)}const o=(0,l.forwardRef)(s)},515:(e,t,n)=>{n.d(t,{Po:()=>s,ko:()=>l});var r=n(772),a=n(43);function l(){return(0,r.U$)().map}function s(e){const t=l();return(0,a.useEffect)((function(){return t.on(e),function(){t.off(e)}}),[t,e]),t}},576:(e,t,n)=>{n.d(t,{K:()=>l,Q:()=>a});var r=n(43);function a(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function l(e,t){return null==t?function(t,n){const a=(0,r.useRef)(void 0);return a.current||(a.current=e(t,n)),a}:function(n,a){const l=(0,r.useRef)(void 0);l.current||(l.current=e(n,a));const s=(0,r.useRef)(n),{instance:o}=l.current;return(0,r.useEffect)((function(){s.current!==n&&(t(o,n,s.current),s.current=n)}),[o,n,t]),l}}},772:(e,t,n)=>{n.d(t,{U$:()=>i,W4:()=>s,dk:()=>o,fB:()=>l});var r=n(43);const a=1;function l(e){return Object.freeze({__version:a,map:e})}function s(e,t){return Object.freeze({...e,...t})}const o=(0,r.createContext)(null);function i(){const e=(0,r.use)(o);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},809:(e,t,n)=>{n.d(t,{A:()=>r});n(43);const r=n.p+"static/media/plane-icon.5312c99550d9e701054eea554971757c.svg"},996:(e,t,n)=>{function r(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}n.d(t,{P:()=>r})}}]);
//# sourceMappingURL=216.0334331c.chunk.js.map